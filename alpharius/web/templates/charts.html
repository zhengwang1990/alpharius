{% extends "base.html" %}

{% block header %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/charts.css') }}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/css/datepicker.min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/2.1.0/chartjs-plugin-annotation.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/js/datepicker-full.min.js"></script>
{% endblock %}

{% block content %}
<div class="card" id="intraday-card">
    <div class="card-header"><span class="card-title">Intraday Chart</span></div>
    <div class="select-container">
         <span class="inline-span">
              <div class="input-group">
                  <span class="input-group-text"><i class="uil uil-calendar-alt"></i></span>
                  <input type="text" class="form-control right-most-input" id="intraday-datepicker" placeholder="DATE">
              </div>
         </span><span class="padding-span"></span><span class="inline-span">
              <div class="input-group">
                  <span class="input-group-text"><i class="uil uil-letter-english-a"></i></span>
                  <input type="text" class="form-control symbol-input" placeholder="SYMBOL" id="intraday-symbol-input">
              </div>
         </span><button type="button" class="btn my-btn-outline my-btn-primary" id="intraday-chart-btn">
            <span id="query-context"><span class="query-text">QUERY</span><span class="query-icon"><i class="uil uil-search"></i></span></span>
            <span id="sync-context" class="hidden"><span class="query-text">SYNC</span><span class="query-icon"><i class="uil uil-sync"></i></span>
        </button>
    </div>
    <div class="hidden" id="history-container"></div>
    <div class="alert" style="display:none" id="intraday-alert" role="alert"></div>
    <div class="chart-name" id="intraday-chart-name" style="display:none"></div>
    <div class="chart-container" id="intraday-chart-container" style="display:none">
        <canvas id="graph-intraday-chart"></canvas>
    </div>
</div>

<div class="card" id="daily-card">
    <div class="card-header"><span class="card-title">Daily Chart</span></div>
    <div class="select-container">
         <span class="inline-span">
              <div class="input-group" id="daily-datepicker">
                  <span class="input-group-text"><i class="uil uil-calendar-alt"></i></span>
                  <input type="text" class="form-control" name="start" placeholder="START" id="interday-start-input">
                  <span class="input-group-text" id="input-to"><i class="uil uil-angle-double-right"></i></span>
                  <input type="text" class="form-control right-most-input" name="end" placeholder="END" id="interday-end-input">
              </div>
         </span><span class="padding-span"></span><span class="inline-span">
              <div class="input-group">
                  <span class="input-group-text"><i class="uil uil-letter-english-a"></i></span>
                  <input type="text" class="form-control symbol-input" placeholder="SYMBOL" id="daily-symbol-input">
              </div>
         </span><button type="button" class="btn my-btn-outline my-btn-primary" id="daily-chart-btn">
            <span class="query-text">QUERY</span><span class="query-icon"><i class="uil uil-search"></i></span>
        </button>
    </div>

    <div class="alert" style="display:none" id="daily-alert" role="alert"></div>
    <div class="chart-name" id="daily-chart-name" style="display:none"></div>
    <div class="chart-container" id="daily-chart-container" style="display:none">
        <canvas id="graph-daily-chart"></canvas>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    ALL_SYMBOLS = {{ all_symbols | safe }};
    INIT_SYMBOL = "{{ init_symbol }}";
    INIT_DATE = "{{ init_date }}";
    INIT_START_DATE = "{{ init_start_date }}";
    INIT_END_DATE = "{{ init_end_date }}";
</script>
<script src="{{ url_for('static', filename='js/charts.js') }}"></script>
{% endblock %}
